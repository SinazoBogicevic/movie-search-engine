(this["webpackJsonpmovie-search-engine"]=this["webpackJsonpmovie-search-engine"]||[]).push([[0],{25:function(e,t,n){e.exports=n(38)},30:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),i=n.n(o),c=(n(30),n(9)),l=n(3),s=n(10),u=n(7),m=Object(a.createContext)([{},function(){}]),d=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),o=n[0],i=n[1];return r.a.createElement(m.Provider,{value:[o,i]},e.children)},p=Object(a.createContext)([{},function(){}]),g=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),o=n[0],i=n[1];return r.a.createElement(p.Provider,{value:[o,i]},e.children)};function f(){var e=Object(c.a)(["\n  width: 100%;\n  height: 100%;\n  margin-top: 15px;\n  .arrow {\n    width: 10%;\n    height: 15%;\n    text-align: center;\n    font-size: 1.2rem;\n  }\n  .movieContainer {\n    width: 65%;\n    margin: 10px auto;\n  }\n  img {\n    width: 100%;\n  }\n  .title {\n    text-align: center;\n    font-size: 1.2rem;\n  }\n  .list {\n    list-style-type: none;\n    padding-left: 0px;\n  }\n  @media screen and (min-width: 768px) {\n    .movieContainer {\n      display: grid;\n      grid-template-columns: auto 1fr;\n      grid-template-rows: auto 1fr;\n      border: 1px solid rgb(0, 0, 0, 0.1);\n      box-shadow: 0px 2px 8px rgb(0, 0, 0, 0.1);\n    }\n    img {\n      border: 2px solid #e3e3e3;\n      border-radius: 18px;\n      box-shadow: 0px 2px 8px rgb(0, 0, 0, 0.1);\n    }\n    .title {\n      text-align: left;\n      margin-top: 0px;\n    }\n    .info {\n      grid-column: 2/3;\n      grid-column: 2/3;\n      margin-left: 15px;\n    }\n  }\n"]);return f=function(){return e},e}function b(){var e=Object(a.useContext)(m),t=Object(l.a)(e,2),n=t[0],o=(t[1],Object(a.useState)({})),i=Object(l.a)(o,2),c=i[0],s=i[1],d=Object(a.useContext)(p),g=Object(l.a)(d,1)[0],f=[];Object(a.useEffect)((function(){var e=localStorage.getItem("moviePage");try{e&&s((function(e){return{state:e}}))}catch(t){console.log(t)}}),[]),Object(a.useEffect)((function(){localStorage.setItem("moviePage",JSON.stringify(n))}),[n]),Object(a.useEffect)((function(){return s(n)}),[n]);var b=c.genre_ids;if(null!=b)for(var v=0;v<g.length;v++)for(var x=g[v],E=x.id,w=0;w<b.length;w++)E===b[w]&&f.push(x.name);return r.a.createElement(h,null,r.a.createElement("div",{className:"arrow"},r.a.createElement(u.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement("i",{class:"fas fa-long-arrow-alt-left"}))),r.a.createElement("div",{className:"movieContainer"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w185_and_h278_bestv2/"+c.poster_path,alt:c.title+" poster"}),r.a.createElement("div",{className:"info"},r.a.createElement("h5",{className:"title"},c.title),r.a.createElement("ul",{className:"list"},r.a.createElement("li",null,c.original_language),r.a.createElement("li",null,c.vote_average," rating"),r.a.createElement("li",null,c.release_date)),r.a.createElement("ul",{className:"list"},f.map((function(e){return r.a.createElement("li",null,e)}))),r.a.createElement("p",{className:"overview"},c.overview))))}var h=s.a.div(f()),v=n(14),x=n.n(v),E=n(18);function w(){var e=Object(c.a)(["\n  position: relative;\n  text-align: left;\n  cursor: pointer;\n  overflow: hidden;\n  background-color: #fffff;\n  width: 65%;\n  margin: 0 auto 12px;\n  border-radius: 8px;\n  border: 1px solid #e3e3e3;\n  box-shadow: 0px 2px 8px rgb(0, 0, 0, 0.1);\n  img {\n    width: 100%;\n    height: 50vh;\n  }\n  h5 {\n    margin-bottom: 0px;\n  }\n  p {\n    margin-top: 2px;\n  }\n  .rating {\n    text-align: center;\n    position: absolute;\n    bottom: 22%;\n    left: 8%;\n    width: 35px;\n    height: 35px;\n    border: 1px solid white;\n    color: white;\n    border-radius: 50%;\n    background-color: black;\n  }\n"]);return w=function(){return e},e}function O(e){var t=e.movie,n=e.handleDetail,o=Object(a.useContext)(m),i=Object(l.a)(o,2),c=(i[0],i[1]);return r.a.createElement(j,{className:"card-list",onClick:function(){return function(e){var a=n(t.id);c(a)}(t.id)}},r.a.createElement(u.b,{to:"/moviePage",style:{textDecoration:"none",color:"#0000ff"}},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w185_and_h278_bestv2/"+t.poster_path,alt:t.title+" poster"}),r.a.createElement("h5",null,t.title),r.a.createElement("p",null,t.release_date),r.a.createElement("div",{className:"rating"},t.vote_average)))}var j=s.a.div(w());function y(){var e=Object(c.a)(['\n  width: 80%;\n  margin: 0 auto;\n  text-align: center;\n  .form {\n    display: grid;\n  }\n  .label {\n    margin-bottom: 0.5rem;\n    fontsize: 1.5rem;\n  }\n  input[type="text"] {\n    margin-bottom: 0.5rem;\n    padding: 10px;\n    border: 2px solid black;\n    border-radius: 20px;\n  }\n  button {\n    padding: 10px;\n    border: 2px solid black;\n    border-radius: 20px;\n    background: rgb(0, 0, 0, 0.75);\n    cursor: pointer;\n    color: white;\n    fontsize: 1.2rem;\n    margin-bottom: 12px;\n    &:hover {\n      background: rgb(0, 0, 0, 0.85);\n    }\n  }\n  @media screen and (min-width: 786px) {\n    .form {\n      grid-template-columns: auto 1fr auto;\n      grid-gap: 1rem;\n    }\n    .label,\n    input[type="text"] {\n      margin-bottom: 0px;\n    }\n    form {\n      margin-bottom: 2rem;\n    }\n    .movie-list {\n      display: grid;\n      grid-template-columns: repeat(3, 1fr);\n    }\n  }\n']);return y=function(){return e},e}function k(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)([]),c=Object(l.a)(i,2),s=c[0],m=c[1],d=Object(a.useContext)(p),g=Object(l.a)(d,2),f=(g[0],g[1]),b=function(){var e=Object(E.a)(x.a.mark((function e(t){var a,r,i,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=n.replace(" ","+"),o(a),r="https://api.themoviedb.org/3/search/movie?api_key=396dea73ba4dc94c515ba23f832b0ede&language=en-US&query=".concat(a,"&page=1&include_adult=false"),e.prev=4,e.next=7,fetch(r);case 7:return i=e.sent,e.next=10,i.json();case 10:c=e.sent,m(c.results),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){return s.find((function(t){return t.id===e}))};return Object(a.useEffect)((function(){function e(){return(e=Object(E.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=396dea73ba4dc94c515ba23f832b0ede&language=en-US");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,f(n.genres);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){var e=localStorage.getItem("search-results");try{e&&m(JSON.parse(e))}catch(t){console.log(t)}}),[]),Object(a.useEffect)((function(){localStorage.setItem("search-results",JSON.stringify(s))}),[s]),r.a.createElement(S,null,r.a.createElement("div",null,r.a.createElement("h1",{className:"title"},r.a.createElement(u.b,{to:"/",style:{textDecoration:"none",color:"#0000ff"}},"Movie Search")),r.a.createElement("form",{className:"form",onSubmit:b},r.a.createElement("label",{className:"label"},"Movie"),r.a.createElement("input",{type:"text",placeholder:"i.e Hunger Games",name:"query",value:n,onChange:function(e){return o(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Search"))),r.a.createElement("div",{className:"movie-list"},s.map((function(e){return r.a.createElement(O,{movie:e,key:e.id,handleDetail:h})}))))}var S=s.a.div(y()),_=n(1);function N(){return r.a.createElement(d,null,r.a.createElement(g,null,r.a.createElement(u.a,null,r.a.createElement(_.c,null,r.a.createElement(_.a,{path:"/moviePage",component:b},r.a.createElement(b,null)),r.a.createElement(_.a,{exact:!0,path:"/",component:k},r.a.createElement(k,null))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.b7f2f42a.chunk.js.map